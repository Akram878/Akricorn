<div class="lms-section">
  <div class="lms-section__header">
    <div class="lms-section__breadcrumb">
      <span>LMS</span>
      <span>/</span>
      <span class="active">Tools</span>
    </div>

    <h2>Student Tools</h2>
    <p>A set of tools that support common student workflows.</p>
  </div>

  <div class="lms-section__body">
    <app-lms-filters
      [filters]="filters"
      [state]="filterState"
      [resultCount]="filteredTools.length"
      (stateChange)="applyFilters($event)"
      (reset)="resetFilters()"
    ></app-lms-filters>

    <div class="lms-section__content">
      <div class="lms-tools-grid" *ngIf="!isLoading && !error && filteredTools.length > 0">
        <app-tool-card
          *ngFor="let t of filteredTools; trackBy: trackByToolId"
          [tool]="t"
          [isDownloadAvailable]="!!t.downloadUrl"
          (open)="openTool(t)"
          (download)="downloadTool(t)"
        ></app-tool-card>
      </div>

      <div class="lms-section__state" *ngIf="isLoading">Loading tools...</div>

      <div
        class="lms-section__state lms-section__state--empty"
        *ngIf="!isLoading && !error && filteredTools.length === 0"
      >
        No tools match the selected filters.
      </div>

      <div class="lms-section__state lms-section__state--error" *ngIf="!isLoading && error">
        {{ error }}
      </div>
    </div>
  </div>
</div>
